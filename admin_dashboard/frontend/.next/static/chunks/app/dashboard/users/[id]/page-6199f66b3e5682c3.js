(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9712],{20063:(e,s,t)=>{"use strict";var a=t(47260);t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}})},45119:(e,s,t)=>{Promise.resolve().then(t.bind(t,66724))},49418:(e,s,t)=>{"use strict";t.d(s,{A:()=>n});let a=t(95125).A.create({baseURL:"http://localhost:8001/api",headers:{"Content-Type":"application/json"}});a.interceptors.request.use(e=>e,e=>Promise.reject(e)),a.interceptors.response.use(e=>e,e=>{var s;return(null==(s=e.response)?void 0:s.status)===401&&console.error("Unauthorized access"),Promise.reject(e)});let n=a},66724:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var a=t(95155),n=t(12115),r=t(20063),l=t(94971),i=t(22663),c=t(52619),d=t.n(c);function o(){var e;let s=(0,r.useParams)(),t=(0,r.useRouter)(),c=s.id,[o,u]=(0,n.useState)(null),[m,x]=(0,n.useState)(!0);(0,n.useEffect)(()=>{h()},[c]);let h=async()=>{try{x(!0);let e=await l.d.getById(c);u(e.data)}catch(e){i.Ay.error("Failed to fetch user"),console.error(e)}finally{x(!1)}};return m?(0,a.jsx)("div",{className:"p-6 text-center",children:"Loading user..."}):o?(0,a.jsxs)("div",{className:"p-6 max-w-4xl mx-auto",children:[(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)("button",{onClick:()=>t.back(),className:"text-blue-600 hover:underline mb-4",children:"← Back to Users"})}),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,a.jsxs)("div",{className:"flex items-center mb-6",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-blue-500 rounded-full flex items-center justify-center text-white text-3xl font-bold",children:null==(e=o.name)?void 0:e.charAt(0).toUpperCase()}),(0,a.jsxs)("div",{className:"ml-6",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:o.name}),(0,a.jsx)("p",{className:"text-gray-600",children:o.email}),(0,a.jsx)("span",{className:"mt-2 inline-block px-3 py-1 text-sm rounded-full ".concat(o.is_banned?"bg-red-100 text-red-800":"bg-green-100 text-green-800"),children:o.is_banned?"Banned":"Active"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Phone"}),(0,a.jsx)("p",{className:"text-lg",children:o.phone||"N/A"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Date Joined"}),(0,a.jsx)("p",{className:"text-lg",children:new Date(o.created_at).toLocaleDateString()})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Last Login"}),(0,a.jsx)("p",{className:"text-lg",children:o.last_login?new Date(o.last_login).toLocaleString():"Never"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Total Applications"}),(0,a.jsx)("p",{className:"text-lg",children:o.application_count||0})]})]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)(d(),{href:"/dashboard/users/".concat(c,"/activity"),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"View Activity"}),(0,a.jsx)("button",{onClick:()=>t.push("/dashboard/users/list"),className:"bg-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-400",children:"Back to List"})]})]})]}):(0,a.jsx)("div",{className:"p-6 text-center",children:"User not found"})}},94971:(e,s,t)=>{"use strict";t.d(s,{d:()=>n});var a=t(49418);let n={getAll:e=>a.A.get("/admin/users",{params:e}),getById:e=>a.A.get("/admin/users/".concat(e)),update:(e,s)=>a.A.put("/admin/users/".concat(e),s),ban:(e,s)=>a.A.post("/admin/users/".concat(e,"/ban"),{reason:s}),unban:e=>a.A.post("/admin/users/".concat(e,"/unban")),getActivity:(e,s)=>a.A.get("/admin/users/".concat(e,"/activity"),{params:s}),getSegments:()=>a.A.get("/admin/users/segments"),getStats:()=>a.A.get("/admin/users/stats")}}},e=>{e.O(0,[5125,2663,2619,8441,1255,7358],()=>e(e.s=45119)),_N_E=e.O()}]);