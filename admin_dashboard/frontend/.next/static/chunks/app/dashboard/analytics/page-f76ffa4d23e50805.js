(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[754],{2031:(e,s,t)=>{Promise.resolve().then(t.bind(t,43685))},43685:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var l=t(95155),a=t(12115),d=t(23258),r=t(49418);let n={getDashboard:async()=>(await r.A.get("/admin/analytics/dashboard")).data};var i=t(70740);t(99157);var c=t(31607);function o(){let[e,s]=(0,a.useState)(!0),[t,r]=(0,a.useState)(null),[c,o]=(0,a.useState)(new Date(Date.now()-2592e6)),[h,x]=(0,a.useState)(new Date);(0,a.useEffect)(()=>{m()},[c,h]);let m=async()=>{try{s(!0);let e=await n.getDashboard();r(e.data)}catch(e){console.error("Failed to fetch analytics",e)}finally{s(!1)}},u=async e=>{try{console.log("Exporting as ".concat(e)),alert("Export to ".concat(e," - Backend endpoint needed"))}catch(e){console.error("Failed to export",e)}};if(e)return(0,l.jsx)("div",{className:"p-6 text-center",children:"Loading analytics..."});let g={labels:["Jobs","Internships","Scholarships"],datasets:[{data:[(null==t?void 0:t.jobs_count)||0,(null==t?void 0:t.internships_count)||0,(null==t?void 0:t.scholarships_count)||0],backgroundColor:["#3b82f6","#8b5cf6","#10b981"]}]};return(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Enhanced Analytics"}),(0,l.jsx)("div",{className:"bg-white p-4 rounded-lg shadow mb-6",children:(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Start Date"}),(0,l.jsx)(i.Ay,{selected:c,onChange:e=>e&&o(e),className:"px-4 py-2 border rounded-lg"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-2",children:"End Date"}),(0,l.jsx)(i.Ay,{selected:h,onChange:e=>e&&x(e),className:"px-4 py-2 border rounded-lg"})]}),(0,l.jsxs)("div",{className:"flex gap-2 mt-6",children:[(0,l.jsx)("button",{onClick:()=>u("csv"),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Export CSV"}),(0,l.jsx)("button",{onClick:()=>u("pdf"),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700",children:"Export PDF"})]})]})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[(0,l.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,l.jsx)("h3",{className:"text-gray-500 text-sm mb-2",children:"Total Users"}),(0,l.jsx)("p",{className:"text-3xl font-bold",children:(null==t?void 0:t.total_users)||0}),(0,l.jsx)("p",{className:"text-sm text-green-600 mt-1",children:"↑ 12% this month"})]}),(0,l.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,l.jsx)("h3",{className:"text-gray-500 text-sm mb-2",children:"Total Jobs"}),(0,l.jsx)("p",{className:"text-3xl font-bold",children:(null==t?void 0:t.jobs_count)||0}),(0,l.jsx)("p",{className:"text-sm text-green-600 mt-1",children:"↑ 8% this week"})]}),(0,l.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,l.jsx)("h3",{className:"text-gray-500 text-sm mb-2",children:"Active Applications"}),(0,l.jsx)("p",{className:"text-3xl font-bold",children:(null==t?void 0:t.applications_count)||0}),(0,l.jsx)("p",{className:"text-sm text-red-600 mt-1",children:"↓ 5% today"})]}),(0,l.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,l.jsx)("h3",{className:"text-gray-500 text-sm mb-2",children:"Gemini API Calls"}),(0,l.jsx)("p",{className:"text-3xl font-bold",children:(null==t?void 0:t.gemini_calls)||0}),(0,l.jsx)("p",{className:"text-sm text-green-600 mt-1",children:"↑ 20% this week"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,l.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,l.jsx)("h3",{className:"text-lg font-bold mb-4",children:"User Engagement (Last 7 Days)"}),(0,l.jsx)(d.N1,{data:{labels:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],datasets:[{label:"Active Users",data:[150,200,180,220,250,300,280],borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.5)"}]}})]}),(0,l.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,l.jsx)("h3",{className:"text-lg font-bold mb-4",children:"Content Distribution"}),(0,l.jsx)(d.nu,{data:g})]})]}),(0,l.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,l.jsx)("h3",{className:"text-lg font-bold mb-4",children:"Conversion Funnel"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)("div",{className:"flex items-center gap-4",children:(0,l.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-8",children:(0,l.jsx)("div",{className:"bg-blue-600 h-8 rounded-full flex items-center justify-center text-white text-sm",style:{width:"100%"},children:"Visitors: 10,000"})})}),(0,l.jsx)("div",{className:"flex items-center gap-4",children:(0,l.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-8",children:(0,l.jsx)("div",{className:"bg-blue-600 h-8 rounded-full flex items-center justify-center text-white text-sm",style:{width:"70%"},children:"Registrations: 7,000"})})}),(0,l.jsx)("div",{className:"flex items-center gap-4",children:(0,l.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-8",children:(0,l.jsx)("div",{className:"bg-blue-600 h-8 rounded-full flex items-center justify-center text-white text-sm",style:{width:"40%"},children:"Applications: 4,000"})})}),(0,l.jsx)("div",{className:"flex items-center gap-4",children:(0,l.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-8",children:(0,l.jsx)("div",{className:"bg-blue-600 h-8 rounded-full flex items-center justify-center text-white text-sm",style:{width:"15%"},children:"Hired: 1,500"})})})]})]})]})}c.t1.register(c.PP,c.kc,c.FN,c.No,c.E8,c.Bs,c.hE,c.m_,c.s$)},49418:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let l=t(95125).A.create({baseURL:"http://localhost:8001/api",headers:{"Content-Type":"application/json"}});l.interceptors.request.use(e=>e,e=>Promise.reject(e)),l.interceptors.response.use(e=>e,e=>{var s;return(null==(s=e.response)?void 0:s.status)===401&&console.error("Unauthorized access"),Promise.reject(e)});let a=l}},e=>{e.O(0,[3038,5647,4020,5579,5125,603,8413,8441,1255,7358],()=>e(e.s=2031)),_N_E=e.O()}]);