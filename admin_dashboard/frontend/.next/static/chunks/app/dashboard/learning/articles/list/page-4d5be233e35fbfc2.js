(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[55],{33139:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>d});var l=t(95155),a=t(12115),r=t(52619),i=t.n(r),c=t(64160),n=t(22663);function d(){let[e,s]=(0,a.useState)([]),[t,r]=(0,a.useState)(!0),[d,o]=(0,a.useState)(""),[h,u]=(0,a.useState)(""),[x,p]=(0,a.useState)("all");(0,a.useEffect)(()=>{g()},[d,h,x]);let g=async()=>{try{r(!0);let e={};d&&(e.search=d),h&&(e.category=h),"all"!==x&&(e.is_published="published"===x);let t=await c.W.getAll(e);s(t.data.articles||[])}catch(e){n.Ay.error("Failed to fetch articles"),console.error(e)}finally{r(!1)}},m=async e=>{if(confirm("Are you sure you want to delete this article?"))try{await c.W.delete(e),n.Ay.success("Article deleted successfully"),g()}catch(e){n.Ay.error("Failed to delete article"),console.error(e)}},b=async e=>{try{await c.W.togglePublish(e),n.Ay.success("Article status updated"),g()}catch(e){n.Ay.error("Failed to update article"),console.error(e)}};return(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold",children:"Articles"}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(i(),{href:"/dashboard/learning/articles/create",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Create Article"}),(0,l.jsx)(i(),{href:"/dashboard/learning/articles/create-ai",className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700",children:"Generate with AI"})]})]}),(0,l.jsx)("div",{className:"bg-white p-4 rounded-lg shadow mb-6",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,l.jsx)("input",{type:"text",placeholder:"Search articles...",value:d,onChange:e=>o(e.target.value),className:"px-4 py-2 border rounded-lg"}),(0,l.jsxs)("select",{value:h,onChange:e=>u(e.target.value),className:"px-4 py-2 border rounded-lg",children:[(0,l.jsx)("option",{value:"",children:"All Categories"}),(0,l.jsx)("option",{value:"Career Guidance",children:"Career Guidance"}),(0,l.jsx)("option",{value:"Interview Tips",children:"Interview Tips"}),(0,l.jsx)("option",{value:"Technology",children:"Technology"}),(0,l.jsx)("option",{value:"Skill Development",children:"Skill Development"})]}),(0,l.jsxs)("select",{value:x,onChange:e=>p(e.target.value),className:"px-4 py-2 border rounded-lg",children:[(0,l.jsx)("option",{value:"all",children:"All Status"}),(0,l.jsx)("option",{value:"published",children:"Published"}),(0,l.jsx)("option",{value:"draft",children:"Draft"})]})]})}),t?(0,l.jsx)("div",{className:"text-center py-12",children:"Loading..."}):0===e.length?(0,l.jsx)("div",{className:"text-center py-12 text-gray-500",children:"No articles found"}):(0,l.jsx)("div",{className:"grid gap-4",children:e.map(e=>(0,l.jsx)("div",{className:"bg-white p-6 rounded-lg shadow hover:shadow-lg transition",children:(0,l.jsxs)("div",{className:"flex justify-between items-start",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-2",children:e.title}),(0,l.jsx)("p",{className:"text-gray-600 mb-3",children:e.excerpt}),(0,l.jsxs)("div",{className:"flex gap-4 text-sm text-gray-500",children:[(0,l.jsxs)("span",{children:["Author: ",e.author]}),(0,l.jsxs)("span",{children:["Category: ",e.category]}),(0,l.jsxs)("span",{children:["Read Time: ",e.read_time||0," min"]}),(0,l.jsxs)("span",{children:["Views: ",e.views_count||0]}),(0,l.jsx)("span",{className:"px-2 py-1 rounded ".concat(e.is_published?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.is_published?"Published":"Draft"})]}),(0,l.jsx)("div",{className:"flex gap-2 mt-2",children:e.tags.map(e=>(0,l.jsx)("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:e},e))})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-2 ml-4",children:[(0,l.jsx)(i(),{href:"/dashboard/learning/articles/".concat(e._id),className:"text-blue-600 hover:underline text-sm",children:"Preview"}),(0,l.jsx)(i(),{href:"/dashboard/learning/articles/edit/".concat(e._id),className:"text-green-600 hover:underline text-sm",children:"Edit"}),(0,l.jsx)("button",{onClick:()=>b(e._id),className:"text-orange-600 hover:underline text-sm",children:e.is_published?"Unpublish":"Publish"}),(0,l.jsx)("button",{onClick:()=>m(e._id),className:"text-red-600 hover:underline text-sm",children:"Delete"})]})]})},e._id))})]})}},46294:(e,s,t)=>{Promise.resolve().then(t.bind(t,33139))},49418:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let l=t(95125).A.create({baseURL:"http://localhost:8001/api",headers:{"Content-Type":"application/json"}});l.interceptors.request.use(e=>e,e=>Promise.reject(e)),l.interceptors.response.use(e=>e,e=>{var s;return(null==(s=e.response)?void 0:s.status)===401&&console.error("Unauthorized access"),Promise.reject(e)});let a=l},64160:(e,s,t)=>{"use strict";t.d(s,{W:()=>a});var l=t(49418);let a={getAll:e=>l.A.get("/admin/articles",{params:e}),getById:e=>l.A.get("/admin/articles/".concat(e)),create:e=>l.A.post("/admin/articles",e),update:(e,s)=>l.A.put("/admin/articles/".concat(e),s),delete:e=>l.A.delete("/admin/articles/".concat(e)),generateAI:e=>l.A.post("/admin/articles/generate-ai",e),togglePublish:e=>l.A.post("/admin/articles/".concat(e,"/toggle-publish"))}}},e=>{e.O(0,[5125,2663,2619,8441,1255,7358],()=>e(e.s=46294)),_N_E=e.O()}]);