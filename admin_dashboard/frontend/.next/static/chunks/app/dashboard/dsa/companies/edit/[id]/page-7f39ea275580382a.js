(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8831],{6996:(e,t,a)=>{Promise.resolve().then(a.bind(a,24491))},20063:(e,t,a)=>{"use strict";var s=a(47260);a.o(s,"useParams")&&a.d(t,{useParams:function(){return s.useParams}}),a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}})},24491:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var s=a(95155),n=a(12115),o=a(20063),i=a(46675),l=a(22663);function r(){let e=(0,o.useRouter)(),t=(0,o.useParams)().id,[a,r]=(0,n.useState)(!1),[c,d]=(0,n.useState)(!0),[u,m]=(0,n.useState)({name:"",logo:"",industry:"",description:"",website:"",headquarters:"",problem_count:0,job_count:0,is_active:!0});(0,n.useEffect)(()=>{p()},[t]);let p=async()=>{try{var e;d(!0);let a=await i.L.companies.getById(t);m({name:a.data.company.name||"",logo:a.data.company.logo||"",industry:a.data.company.industry||"",description:a.data.company.description||"",website:a.data.company.website||"",headquarters:a.data.company.headquarters||"",problem_count:a.data.company.problem_count||0,job_count:a.data.company.job_count||0,is_active:null==(e=a.data.company.is_active)||e})}catch(e){console.error("Error fetching company:",e),l.Ay.error("Failed to load company data")}finally{d(!1)}},g=async a=>{a.preventDefault(),r(!0);try{await i.L.companies.update(t,u),l.Ay.success("Company updated successfully!"),e.push("/dashboard/dsa/companies/list")}catch(e){var s,n;console.error("Error updating company:",e),l.Ay.error((null==(n=e.response)||null==(s=n.data)?void 0:s.detail)||"Failed to update company")}finally{r(!1)}};return c?(0,s.jsx)("div",{className:"p-6",children:(0,s.jsx)("div",{className:"text-center py-12",children:"Loading company data..."})}):(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Edit DSA Company"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Update company information"})]}),(0,s.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,s.jsxs)("form",{onSubmit:g,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Name *"}),(0,s.jsx)("input",{type:"text",required:!0,value:u.name,onChange:e=>m({...u,name:e.target.value}),placeholder:"e.g., Google, Amazon, Microsoft",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo URL"}),(0,s.jsx)("input",{type:"url",value:u.logo,onChange:e=>m({...u,logo:e.target.value}),placeholder:"https://example.com/logo.png",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"}),u.logo&&(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsx)("img",{src:u.logo,alt:"Logo preview",className:"w-20 h-20 object-contain border rounded"})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Industry *"}),(0,s.jsxs)("select",{required:!0,value:u.industry,onChange:e=>m({...u,industry:e.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,s.jsx)("option",{value:"",children:"Select Industry"}),(0,s.jsx)("option",{value:"Technology",children:"Technology"}),(0,s.jsx)("option",{value:"Finance",children:"Finance"}),(0,s.jsx)("option",{value:"E-commerce",children:"E-commerce"}),(0,s.jsx)("option",{value:"Healthcare",children:"Healthcare"}),(0,s.jsx)("option",{value:"Consulting",children:"Consulting"}),(0,s.jsx)("option",{value:"Automotive",children:"Automotive"}),(0,s.jsx)("option",{value:"Telecommunications",children:"Telecommunications"}),(0,s.jsx)("option",{value:"Gaming",children:"Gaming"}),(0,s.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,s.jsx)("textarea",{value:u.description,onChange:e=>m({...u,description:e.target.value}),placeholder:"Brief description about the company",rows:4,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),(0,s.jsx)("input",{type:"url",value:u.website,onChange:e=>m({...u,website:e.target.value}),placeholder:"https://company.com",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Headquarters"}),(0,s.jsx)("input",{type:"text",value:u.headquarters,onChange:e=>m({...u,headquarters:e.target.value}),placeholder:"e.g., Mountain View, CA",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Problem Count"}),(0,s.jsx)("input",{type:"number",min:"0",value:u.problem_count,onChange:e=>m({...u,problem_count:parseInt(e.target.value)||0}),placeholder:"0",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Number of DSA problems associated with this company"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Job Count"}),(0,s.jsx)("input",{type:"number",min:"0",value:u.job_count,onChange:e=>m({...u,job_count:parseInt(e.target.value)||0}),placeholder:"0",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Number of job openings from this company"})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",id:"is_active",checked:u.is_active,onChange:e=>m({...u,is_active:e.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),(0,s.jsx)("label",{htmlFor:"is_active",className:"ml-2 text-sm font-medium text-gray-700",children:"Active (visible to users)"})]}),(0,s.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,s.jsx)("button",{type:"submit",disabled:a,className:"flex-1 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition disabled:bg-gray-400 font-semibold",children:a?"Updating...":"Update Company"}),(0,s.jsx)("button",{type:"button",onClick:()=>e.back(),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition font-semibold",children:"Cancel"})]})]})})]})}},46675:(e,t,a)=>{"use strict";a.d(t,{L:()=>n});var s=a(49418);let n={topics:{getAll:e=>s.A.get("/admin/dsa/topics",{params:e}),getById:e=>s.A.get("/admin/dsa/topics/".concat(e)),create:e=>s.A.post("/admin/dsa/topics",e),update:(e,t)=>s.A.put("/admin/dsa/topics/".concat(e),t),delete:e=>s.A.delete("/admin/dsa/topics/".concat(e)),getStats:()=>s.A.get("/admin/dsa/topics/stats")},questions:{getAll:e=>s.A.get("/admin/dsa/questions",{params:e}),getById:e=>s.A.get("/admin/dsa/questions/".concat(e)),create:e=>s.A.post("/admin/dsa/questions",e),update:(e,t)=>s.A.put("/admin/dsa/questions/".concat(e),t),delete:e=>s.A.delete("/admin/dsa/questions/".concat(e)),generateAI:e=>s.A.post("/admin/dsa/questions/generate-ai",e),getStatsByDifficulty:()=>s.A.get("/admin/dsa/questions/stats/difficulty"),getStatsByTopic:()=>s.A.get("/admin/dsa/questions/stats/topic")},sheets:{getAll:e=>s.A.get("/admin/dsa/sheets",{params:e}),getById:e=>s.A.get("/admin/dsa/sheets/".concat(e)),create:e=>s.A.post("/admin/dsa/sheets",e),update:(e,t)=>s.A.put("/admin/dsa/sheets/".concat(e),t),delete:e=>s.A.delete("/admin/dsa/sheets/".concat(e)),generateAI:e=>s.A.post("/admin/dsa/sheets/generate-ai",e),addQuestion:(e,t)=>s.A.post("/admin/dsa/sheets/".concat(e,"/questions"),{question_id:t}),removeQuestion:(e,t)=>s.A.delete("/admin/dsa/sheets/".concat(e,"/questions/").concat(t)),togglePublish:e=>s.A.post("/admin/dsa/sheets/".concat(e,"/toggle-publish")),getStats:()=>s.A.get("/admin/dsa/sheets/stats")},companies:{getAll:e=>s.A.get("/admin/dsa/companies",{params:e}),getById:e=>s.A.get("/admin/dsa/companies/".concat(e)),create:e=>s.A.post("/admin/dsa/companies",e),update:(e,t)=>s.A.put("/admin/dsa/companies/".concat(e),t),delete:e=>s.A.delete("/admin/dsa/companies/".concat(e)),getStats:()=>s.A.get("/admin/dsa/companies/stats"),getTop:()=>s.A.get("/admin/dsa/companies/top")}}},49418:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});let s=a(95125).A.create({baseURL:"http://localhost:8001/api",headers:{"Content-Type":"application/json"}});s.interceptors.request.use(e=>e,e=>Promise.reject(e)),s.interceptors.response.use(e=>e,e=>{var t;return(null==(t=e.response)?void 0:t.status)===401&&console.error("Unauthorized access"),Promise.reject(e)});let n=s}},e=>{e.O(0,[5125,2663,8441,1255,7358],()=>e(e.s=6996)),_N_E=e.O()}]);