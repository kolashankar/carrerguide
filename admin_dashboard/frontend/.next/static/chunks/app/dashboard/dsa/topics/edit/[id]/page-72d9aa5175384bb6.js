(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9706],{20063:(e,t,s)=>{"use strict";var a=s(47260);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},34345:(e,t,s)=>{Promise.resolve().then(s.bind(s,86762))},46675:(e,t,s)=>{"use strict";s.d(t,{L:()=>n});var a=s(49418);let n={topics:{getAll:e=>a.A.get("/admin/dsa/topics",{params:e}),getById:e=>a.A.get("/admin/dsa/topics/".concat(e)),create:e=>a.A.post("/admin/dsa/topics",e),update:(e,t)=>a.A.put("/admin/dsa/topics/".concat(e),t),delete:e=>a.A.delete("/admin/dsa/topics/".concat(e)),getStats:()=>a.A.get("/admin/dsa/topics/stats")},questions:{getAll:e=>a.A.get("/admin/dsa/questions",{params:e}),getById:e=>a.A.get("/admin/dsa/questions/".concat(e)),create:e=>a.A.post("/admin/dsa/questions",e),update:(e,t)=>a.A.put("/admin/dsa/questions/".concat(e),t),delete:e=>a.A.delete("/admin/dsa/questions/".concat(e)),generateAI:e=>a.A.post("/admin/dsa/questions/generate-ai",e),getStatsByDifficulty:()=>a.A.get("/admin/dsa/questions/stats/difficulty"),getStatsByTopic:()=>a.A.get("/admin/dsa/questions/stats/topic")},sheets:{getAll:e=>a.A.get("/admin/dsa/sheets",{params:e}),getById:e=>a.A.get("/admin/dsa/sheets/".concat(e)),create:e=>a.A.post("/admin/dsa/sheets",e),update:(e,t)=>a.A.put("/admin/dsa/sheets/".concat(e),t),delete:e=>a.A.delete("/admin/dsa/sheets/".concat(e)),generateAI:e=>a.A.post("/admin/dsa/sheets/generate-ai",e),addQuestion:(e,t)=>a.A.post("/admin/dsa/sheets/".concat(e,"/questions"),{question_id:t}),removeQuestion:(e,t)=>a.A.delete("/admin/dsa/sheets/".concat(e,"/questions/").concat(t)),togglePublish:e=>a.A.post("/admin/dsa/sheets/".concat(e,"/toggle-publish")),getStats:()=>a.A.get("/admin/dsa/sheets/stats")},companies:{getAll:e=>a.A.get("/admin/dsa/companies",{params:e}),getById:e=>a.A.get("/admin/dsa/companies/".concat(e)),create:e=>a.A.post("/admin/dsa/companies",e),update:(e,t)=>a.A.put("/admin/dsa/companies/".concat(e),t),delete:e=>a.A.delete("/admin/dsa/companies/".concat(e)),getStats:()=>a.A.get("/admin/dsa/companies/stats"),getTop:()=>a.A.get("/admin/dsa/companies/top")}}},49418:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});let a=s(95125).A.create({baseURL:"http://localhost:8001/api",headers:{"Content-Type":"application/json"}});a.interceptors.request.use(e=>e,e=>Promise.reject(e)),a.interceptors.response.use(e=>e,e=>{var t;return(null==(t=e.response)?void 0:t.status)===401&&console.error("Unauthorized access"),Promise.reject(e)});let n=a},86762:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var a=s(95155),n=s(12115),i=s(20063),o=s(46675),d=s(22663);function c(){let e=(0,i.useRouter)(),t=(0,i.useParams)().id,[s,c]=(0,n.useState)(!1),[l,r]=(0,n.useState)(!0),[u,m]=(0,n.useState)({name:"",description:"",icon:"\uD83D\uDCDA",color:"#3b82f6",is_active:!0});(0,n.useEffect)(()=>{p()},[t]);let p=async()=>{try{r(!0);let e=(await o.L.topics.getById(t)).data;m({name:e.name,description:e.description,icon:e.icon,color:e.color,is_active:e.is_active})}catch(e){d.Ay.error("Failed to fetch topic"),console.error(e)}finally{r(!1)}},g=async s=>{s.preventDefault(),c(!0);try{await o.L.topics.update(t,u),d.Ay.success("Topic updated successfully"),e.push("/dashboard/dsa/topics/list")}catch(e){var a,n;d.Ay.error((null==(n=e.response)||null==(a=n.data)?void 0:a.detail)||"Failed to update topic"),console.error(e)}finally{c(!1)}};return l?(0,a.jsx)("div",{className:"p-6 text-center",children:"Loading topic..."}):(0,a.jsxs)("div",{className:"p-6 max-w-2xl mx-auto",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Edit DSA Topic"}),(0,a.jsx)("form",{onSubmit:g,className:"bg-white p-6 rounded-lg shadow",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Name *"}),(0,a.jsx)("input",{type:"text",required:!0,value:u.name,onChange:e=>m({...u,name:e.target.value}),className:"w-full px-4 py-2 border rounded-lg"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Description *"}),(0,a.jsx)("textarea",{required:!0,value:u.description,onChange:e=>m({...u,description:e.target.value}),className:"w-full px-4 py-2 border rounded-lg",rows:4})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Icon"}),(0,a.jsx)("div",{className:"flex gap-2 mb-2",children:["\uD83D\uDCDA","\uD83D\uDCCA","\uD83D\uDD0D","\uD83E\uDDE0","\uD83D\uDCBB","\uD83C\uDFAF","⚙️","\uD83D\uDD12","\uD83C\uDF33","\uD83D\uDCCA"].map(e=>(0,a.jsx)("button",{type:"button",onClick:()=>m({...u,icon:e}),className:"text-2xl p-2 rounded border ".concat(u.icon===e?"border-blue-500 bg-blue-50":"border-gray-300"),children:e},e))}),(0,a.jsx)("input",{type:"text",value:u.icon,onChange:e=>m({...u,icon:e.target.value}),className:"w-full px-4 py-2 border rounded-lg",placeholder:"Or enter custom emoji"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Color"}),(0,a.jsx)("input",{type:"color",value:u.color,onChange:e=>m({...u,color:e.target.value}),className:"w-full h-12 border rounded-lg"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:u.is_active,onChange:e=>m({...u,is_active:e.target.checked}),className:"mr-2"}),(0,a.jsx)("label",{className:"text-sm font-medium",children:"Active"})]}),(0,a.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,a.jsx)("button",{type:"submit",disabled:s,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50",children:s?"Updating...":"Update Topic"}),(0,a.jsx)("button",{type:"button",onClick:()=>e.back(),className:"bg-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-400",children:"Cancel"})]})]})})]})}}},e=>{e.O(0,[5125,2663,8441,1255,7358],()=>e(e.s=34345)),_N_E=e.O()}]);