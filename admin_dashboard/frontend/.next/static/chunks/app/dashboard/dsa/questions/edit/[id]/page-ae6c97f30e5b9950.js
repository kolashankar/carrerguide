(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4357],{1150:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}});let a=s(95155),n=s(12115),o=s(24437);function i(e){return{default:e&&"default"in e?e.default:e}}s(36552);let l={loader:()=>Promise.resolve(i(()=>null)),loading:null,ssr:!0},r=function(e){let t={...l,...e},s=(0,n.lazy)(()=>t.loader().then(i)),r=t.loading;function d(e){let i=r?(0,a.jsx)(r,{isLoading:!0,pastDelay:!0,error:null}):null,l=!t.ssr||!!t.loading,d=l?n.Suspense:n.Fragment,c=t.ssr?(0,a.jsxs)(a.Fragment,{children:[null,(0,a.jsx)(s,{...e})]}):(0,a.jsx)(o.BailoutToCSR,{reason:"next/dynamic",children:(0,a.jsx)(s,{...e})});return(0,a.jsx)(d,{...l?{fallback:i}:{},children:c})}return d.displayName="LoadableComponent",d}},8567:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return a.workAsyncStorageInstance}});let a=s(17828)},17828:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return a}});let a=(0,s(64054).createAsyncLocalStorage)()},20063:(e,t,s)=>{"use strict";var a=s(47260);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},24437:(e,t,s)=>{"use strict";function a(e){let{reason:t,children:s}=e;return s}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return a}}),s(24553)},36402:(e,t,s)=>{Promise.resolve().then(s.bind(s,67625))},36552:(e,t,s)=>{"use strict";function a(e){let{moduleIds:t}=e;return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return a}}),s(95155),s(47650),s(8567),s(77278)},46675:(e,t,s)=>{"use strict";s.d(t,{L:()=>n});var a=s(49418);let n={topics:{getAll:e=>a.A.get("/admin/dsa/topics",{params:e}),getById:e=>a.A.get("/admin/dsa/topics/".concat(e)),create:e=>a.A.post("/admin/dsa/topics",e),update:(e,t)=>a.A.put("/admin/dsa/topics/".concat(e),t),delete:e=>a.A.delete("/admin/dsa/topics/".concat(e)),getStats:()=>a.A.get("/admin/dsa/topics/stats")},questions:{getAll:e=>a.A.get("/admin/dsa/questions",{params:e}),getById:e=>a.A.get("/admin/dsa/questions/".concat(e)),create:e=>a.A.post("/admin/dsa/questions",e),update:(e,t)=>a.A.put("/admin/dsa/questions/".concat(e),t),delete:e=>a.A.delete("/admin/dsa/questions/".concat(e)),generateAI:e=>a.A.post("/admin/dsa/questions/generate-ai",e),getStatsByDifficulty:()=>a.A.get("/admin/dsa/questions/stats/difficulty"),getStatsByTopic:()=>a.A.get("/admin/dsa/questions/stats/topic")},sheets:{getAll:e=>a.A.get("/admin/dsa/sheets",{params:e}),getById:e=>a.A.get("/admin/dsa/sheets/".concat(e)),create:e=>a.A.post("/admin/dsa/sheets",e),update:(e,t)=>a.A.put("/admin/dsa/sheets/".concat(e),t),delete:e=>a.A.delete("/admin/dsa/sheets/".concat(e)),generateAI:e=>a.A.post("/admin/dsa/sheets/generate-ai",e),addQuestion:(e,t)=>a.A.post("/admin/dsa/sheets/".concat(e,"/questions"),{question_id:t}),removeQuestion:(e,t)=>a.A.delete("/admin/dsa/sheets/".concat(e,"/questions/").concat(t)),togglePublish:e=>a.A.post("/admin/dsa/sheets/".concat(e,"/toggle-publish")),getStats:()=>a.A.get("/admin/dsa/sheets/stats")},companies:{getAll:e=>a.A.get("/admin/dsa/companies",{params:e}),getById:e=>a.A.get("/admin/dsa/companies/".concat(e)),create:e=>a.A.post("/admin/dsa/companies",e),update:(e,t)=>a.A.put("/admin/dsa/companies/".concat(e),t),delete:e=>a.A.delete("/admin/dsa/companies/".concat(e)),getStats:()=>a.A.get("/admin/dsa/companies/stats"),getTop:()=>a.A.get("/admin/dsa/companies/top")}}},49418:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});let a=s(95125).A.create({baseURL:"http://localhost:8001/api",headers:{"Content-Type":"application/json"}});a.interceptors.request.use(e=>e,e=>Promise.reject(e)),a.interceptors.response.use(e=>e,e=>{var t;return(null==(t=e.response)?void 0:t.status)===401&&console.error("Unauthorized access"),Promise.reject(e)});let n=a},64054:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{bindSnapshot:function(){return i},createAsyncLocalStorage:function(){return o},createSnapshot:function(){return l}});let s=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class a{disable(){throw s}getStore(){}run(){throw s}exit(){throw s}enterWith(){throw s}static bind(e){return e}}let n="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function o(){return n?new n:new a}function i(e){return n?n.bind(e):a.bind(e)}function l(){return n?n.snapshot():function(e,...t){return e(...t)}}},67625:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var a=s(95155),n=s(12115),o=s(20063),i=s(46675),l=s(22663);let r=(0,s(67909).default)(()=>s.e(5778).then(s.bind(s,85778)),{loadableGenerated:{webpack:()=>[85778]},ssr:!1});function d(){let e=(0,o.useRouter)(),t=(0,o.useParams)().id,[s,d]=(0,n.useState)(!1),[c,u]=(0,n.useState)(!0),[p,m]=(0,n.useState)([]),[g,h]=(0,n.useState)([]),[f,b]=(0,n.useState)({title:"",description:"",difficulty:"Medium",topics:[],companies:[],examples:[{input:"",output:"",explanation:""}],constraints:"",hints:[""],solution_approach:"",code_solutions:[{language:"Python",code:""}],time_complexity:"",space_complexity:""});(0,n.useEffect)(()=>{x(),y(),j()},[t]);let x=async()=>{try{var e,s,a;u(!0);let n=(await i.L.questions.getById(t)).data.question;b({title:n.title||"",description:n.description||"",difficulty:n.difficulty||"Medium",topics:n.topics||[],companies:n.companies||[],examples:(null==(e=n.examples)?void 0:e.length)>0?n.examples:[{input:"",output:"",explanation:""}],constraints:n.constraints||"",hints:(null==(s=n.hints)?void 0:s.length)>0?n.hints:[""],solution_approach:n.solution_approach||"",code_solutions:(null==(a=n.code_solutions)?void 0:a.length)>0?n.code_solutions:[{language:"Python",code:""}],time_complexity:n.time_complexity||"",space_complexity:n.space_complexity||""})}catch(e){console.error("Error fetching question:",e),l.Ay.error("Failed to load question data")}finally{u(!1)}},y=async()=>{try{let e=await i.L.topics.getAll();m(e.data.topics||[])}catch(e){console.error("Error fetching topics:",e)}},j=async()=>{try{let e=await i.L.companies.getAll();h(e.data.companies||[])}catch(e){console.error("Error fetching companies:",e)}},v=async s=>{s.preventDefault(),d(!0);try{await i.L.questions.update(t,f),l.Ay.success("Question updated successfully!"),e.push("/dashboard/dsa/questions/list")}catch(e){var a,n;console.error("Error updating question:",e),l.Ay.error((null==(n=e.response)||null==(a=n.data)?void 0:a.detail)||"Failed to update question")}finally{d(!1)}};return c?(0,a.jsx)("div",{className:"p-6",children:(0,a.jsx)("div",{className:"text-center py-12",children:"Loading question data..."})}):(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Edit DSA Question"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Update question details"})]}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("form",{onSubmit:v,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question Title *"}),(0,a.jsx)("input",{type:"text",required:!0,value:f.title,onChange:e=>b({...f,title:e.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),(0,a.jsx)("textarea",{required:!0,value:f.description,onChange:e=>b({...f,description:e.target.value}),rows:6,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty *"}),(0,a.jsxs)("select",{required:!0,value:f.difficulty,onChange:e=>b({...f,difficulty:e.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"Easy",children:"Easy"}),(0,a.jsx)("option",{value:"Medium",children:"Medium"}),(0,a.jsx)("option",{value:"Hard",children:"Hard"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Topics"}),(0,a.jsx)("div",{className:"border rounded-lg p-4 max-h-48 overflow-y-auto space-y-2",children:p.map(e=>(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:f.topics.includes(e._id),onChange:t=>{t.target.checked?b({...f,topics:[...f.topics,e._id]}):b({...f,topics:f.topics.filter(t=>t!==e._id)})},className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),(0,a.jsx)("span",{className:"ml-2",children:e.name})]},e._id))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Companies"}),(0,a.jsx)("div",{className:"border rounded-lg p-4 max-h-48 overflow-y-auto space-y-2",children:g.map(e=>(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:f.companies.includes(e._id),onChange:t=>{t.target.checked?b({...f,companies:[...f.companies,e._id]}):b({...f,companies:f.companies.filter(t=>t!==e._id)})},className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),(0,a.jsx)("span",{className:"ml-2",children:e.name})]},e._id))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Code Solutions"}),f.code_solutions.map((e,t)=>(0,a.jsxs)("div",{className:"mb-4 border rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex gap-4 mb-2",children:[(0,a.jsxs)("select",{value:e.language,onChange:e=>{let s=[...f.code_solutions];s[t].language=e.target.value,b({...f,code_solutions:s})},className:"px-4 py-2 border rounded-lg",children:[(0,a.jsx)("option",{value:"Python",children:"Python"}),(0,a.jsx)("option",{value:"JavaScript",children:"JavaScript"}),(0,a.jsx)("option",{value:"Java",children:"Java"}),(0,a.jsx)("option",{value:"C++",children:"C++"})]}),f.code_solutions.length>1&&(0,a.jsx)("button",{type:"button",onClick:()=>{b({...f,code_solutions:f.code_solutions.filter((e,s)=>s!==t)})},className:"px-4 py-2 bg-red-500 text-white rounded-lg",children:"Remove"})]}),(0,a.jsx)(r,{height:"300px",language:e.language.toLowerCase(),value:e.code,onChange:e=>{let s=[...f.code_solutions];s[t].code=e||"",b({...f,code_solutions:s})},theme:"vs-dark",options:{minimap:{enabled:!1},fontSize:14}})]},t)),(0,a.jsx)("button",{type:"button",onClick:()=>{b({...f,code_solutions:[...f.code_solutions,{language:"Python",code:""}]})},className:"mt-2 px-4 py-2 bg-green-500 text-white rounded-lg",children:"Add Solution"})]}),(0,a.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,a.jsx)("button",{type:"submit",disabled:s,className:"flex-1 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition disabled:bg-gray-400 font-semibold",children:s?"Updating...":"Update Question"}),(0,a.jsx)("button",{type:"button",onClick:()=>e.back(),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition font-semibold",children:"Cancel"})]})]})})]})}},67909:(e,t,s)=>{"use strict";s.d(t,{default:()=>n.a});var a=s(86278),n=s.n(a)},86278:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}});let a=s(28140)._(s(1150));function n(e,t){var s;let n={};"function"==typeof e&&(n.loader=e);let o={...n,...t};return(0,a.default)({...o,modules:null==(s=o.loadableGenerated)?void 0:s.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}},e=>{e.O(0,[5125,2663,8441,1255,7358],()=>e(e.s=36402)),_N_E=e.O()}]);