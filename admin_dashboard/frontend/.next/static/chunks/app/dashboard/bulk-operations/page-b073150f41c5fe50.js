(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5083],{49418:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});let r=s(95125).A.create({baseURL:"http://localhost:8001/api",headers:{"Content-Type":"application/json"}});r.interceptors.request.use(e=>e,e=>Promise.reject(e)),r.interceptors.response.use(e=>e,e=>{var t;return(null==(t=e.response)?void 0:t.status)===401&&console.error("Unauthorized access"),Promise.reject(e)});let l=r},53532:(e,t,s)=>{Promise.resolve().then(s.bind(s,74009))},74009:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(95155),l=s(12115),a=s(49418);let o={exportJobs:e=>a.A.get("/admin/bulk/jobs/export",{params:e,responseType:"blob"}),importJobs:e=>{let t=new FormData;return t.append("file",e),a.A.post("/admin/bulk/jobs/import",t,{headers:{"Content-Type":"multipart/form-data"}})},exportInternships:e=>a.A.get("/admin/bulk/internships/export",{params:e,responseType:"blob"}),importInternships:e=>{let t=new FormData;return t.append("file",e),a.A.post("/admin/bulk/internships/import",t,{headers:{"Content-Type":"multipart/form-data"}})}};var n=s(22663);function d(){let[e,t]=(0,l.useState)("jobs"),[s,a]=(0,l.useState)(null),[d,i]=(0,l.useState)(!1),c=async()=>{if(!s)return void n.Ay.error("Please select a file first");try{i(!0),"jobs"===e?await o.importJobs(s):await o.importInternships(s),n.Ay.success("Import completed successfully"),a(null)}catch(e){var t,r;n.Ay.error((null==(r=e.response)||null==(t=r.data)?void 0:t.detail)||"Import failed"),console.error(e)}finally{i(!1)}},m=async()=>{try{let t;i(!0),t="jobs"===e?await o.exportJobs():await o.exportInternships();let s=new Blob([t.data],{type:"text/csv"}),r=window.URL.createObjectURL(s),l=document.createElement("a");l.href=r,l.download="".concat(e,"_export_").concat(Date.now(),".csv"),l.click(),n.Ay.success("Export completed successfully")}catch(e){n.Ay.error("Export failed"),console.error(e)}finally{i(!1)}};return(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Bulk Operations"}),(0,r.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,r.jsx)("button",{onClick:()=>t("jobs"),className:"px-6 py-2 rounded-lg font-medium ".concat("jobs"===e?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"Jobs"}),(0,r.jsx)("button",{onClick:()=>t("internships"),className:"px-6 py-2 rounded-lg font-medium ".concat("internships"===e?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"Internships"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,r.jsxs)("h2",{className:"text-xl font-bold mb-4",children:["⬇️ Import ",e]}),(0,r.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:["Upload a CSV file to bulk import ",e,". The CSV should have all required fields."]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[(0,r.jsx)("input",{type:"file",accept:".csv",onChange:e=>{e.target.files&&e.target.files[0]&&a(e.target.files[0])},className:"hidden",id:"file-upload"}),(0,r.jsx)("label",{htmlFor:"file-upload",className:"cursor-pointer text-blue-600 hover:underline",children:s?s.name:"Click to select CSV file"})]}),(0,r.jsx)("button",{onClick:c,disabled:!s||d,className:"w-full bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 disabled:opacity-50",children:d?"Importing...":"Import ".concat(e)})]})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,r.jsxs)("h2",{className:"text-xl font-bold mb-4",children:["⬆️ Export ",e]}),(0,r.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:["Download all ",e," as a CSV file. You can edit and re-import the file."]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("div",{className:"p-4 bg-blue-50 rounded-lg",children:(0,r.jsx)("p",{className:"text-sm text-blue-800",children:"The export will include all fields and can be used as a template for imports."})}),(0,r.jsx)("button",{onClick:m,disabled:d,className:"w-full bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50",children:d?"Exporting...":"Export ".concat(e," to CSV")})]})]})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Bulk Actions"}),(0,r.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:["Perform actions on multiple ",e," at once. Select items from the list page to enable bulk actions."]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,r.jsxs)("button",{className:"p-4 border-2 border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 text-center",children:[(0,r.jsx)("div",{className:"text-2xl mb-2",children:"✅"}),(0,r.jsx)("div",{className:"text-sm font-medium",children:"Activate Selected"})]}),(0,r.jsxs)("button",{className:"p-4 border-2 border-gray-300 rounded-lg hover:border-orange-500 hover:bg-orange-50 text-center",children:[(0,r.jsx)("div",{className:"text-2xl mb-2",children:"⏸️"}),(0,r.jsx)("div",{className:"text-sm font-medium",children:"Deactivate Selected"})]}),(0,r.jsxs)("button",{className:"p-4 border-2 border-gray-300 rounded-lg hover:border-red-500 hover:bg-red-50 text-center",children:[(0,r.jsx)("div",{className:"text-2xl mb-2",children:"\uD83D\uDDD1️"}),(0,r.jsx)("div",{className:"text-sm font-medium",children:"Delete Selected"})]}),(0,r.jsxs)("button",{className:"p-4 border-2 border-gray-300 rounded-lg hover:border-green-500 hover:bg-green-50 text-center",children:[(0,r.jsx)("div",{className:"text-2xl mb-2",children:"\uD83D\uDCDD"}),(0,r.jsx)("div",{className:"text-sm font-medium",children:"Edit Fields"})]})]})]})]})}}},e=>{e.O(0,[5125,2663,8441,1255,7358],()=>e(e.s=53532)),_N_E=e.O()}]);